(()=>{function x(e){let t=1779033703,r=3144134277,n=1013904242,s=2773480762;for(let a=0,l;a<e.length;a++)l=e.charCodeAt(a),t=r^Math.imul(t^l,597399067),r=n^Math.imul(r^l,2869860233),n=s^Math.imul(n^l,951274213),s=t^Math.imul(s^l,2716044179);return t=Math.imul(n^t>>>18,597399067),r=Math.imul(s^r>>>22,2869860233),n=Math.imul(t^n>>>17,951274213),s=Math.imul(r^s>>>19,2716044179),[(t^r^n^s)>>>0,(r^t)>>>0,(n^t)>>>0,(s^t)>>>0]}var m=class extends Array{},g="function";function b(e){return e instanceof m}var d=(e,t,...r)=>{let n=r.reduce((s,a)=>(Array.isArray(a)&&!b(a)?s.push(...a):s.push(a),s),[]);return new m(e,t||{},n)},O=(e,t="__r")=>{if(!b(e))return e;let[r,n,s]=e;n.key=n.key||t;let a=s.map((l,u)=>O(l,t+"c"+(l?.[1]?.key||u)));if(typeof r===g){let l=r({...n,children:a});return O(l,t+"e"+(l?.key||""))}return new m(r,n,a)},A=(e,t)=>{let[,r]=e._hic||[];return Object.entries(t).forEach(([n,s])=>{if(r&&typeof r[n]===g&&e.removeEventListener(n,r[n]),typeof s===g)e.addEventListener(n.toLowerCase(),s);else{if(n==="value"||n==="disabled"){e[n]=s;return}let a=e;a.getAttribute(n)!==s&&a.setAttribute(n,s)}}),r&&Object.entries(r).forEach(([n,s])=>{(!t||!t[n])&&(typeof s===g?e.removeEventListener(n,r[n]):e.removeAttribute(n))}),e},w=(e,t)=>{for(let r=t.length-1;r>=0;r--){let n=t[r],s=t[r+1]||null,a=n.nextSibling;(s!==a||!e.contains(n))&&e?.insertBefore(n,s)}for(;e.childNodes.length>t.length;)e?.removeChild(e.childNodes[0]);return e},N=(e,t)=>{let r=t;if(!e&&e!=="")return null;if(!b(e))return t?.nodeType!==3?document.createTextNode(e):(t.textContent!==e&&(t.textContent=e),t);let[n,s]=t?._hic||[],[a,l]=e;if(n!==a||!r){let i=l.xmlns||(a==="svg"?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml");r=document.createElementNS(i,a)}A(r,l),r._hic=e;let c=(b(e)?e[2]:[]).filter(i=>i).map((i,p)=>{let y=t?.childNodes[p];return N(i,y)});return w(r,c),t!==r&&t?.parentNode?.replaceChild(r,t),typeof l.ref===g&&l.ref!==s?.ref&&l.ref(r,l.key),r};var v=[1,3,2,0],T={[0]:(e,t)=>e/t,[1]:(e,t)=>e+t,[2]:(e,t)=>e*t,[3]:(e,t)=>e-t},I={[0]:(e,t)=>e%t===0,[3]:(e,t)=>e-t>0,[1]:(e,t)=>!0,[2]:(e,t)=>!0},S={[0]:(e,t)=>e%t===0,[3]:(e,t)=>e-t>0,[1]:(e,t)=>!0,[2]:(e,t)=>e*t<100},E={[0]:"\xF7",[3]:"\u2212",[1]:"+",[2]:"\xD7"},D=[1,2,3,4,5,6,7,8,9,10,11,15,20];var H=new Array(50).fill(null).map((e,t)=>t+1),o={history:[],originalNumberOptions:[],target:0,selectedOperandIdx:null,selectedOperator:null},C=()=>{let e=o.history[o.history.length-1],t=c=>{if(o.selectedOperandIdx===c)o.selectedOperandIdx=null;else if(o.selectedOperator!==null&&o.selectedOperandIdx!==null){let i=e[o.selectedOperandIdx],p=e[c];if(!I[o.selectedOperator](i,p)){console.error("cannot perform requested operation.");return}let y=T[o.selectedOperator],h=[...e];h[c]=y(i,p),h[o.selectedOperandIdx]=null,o.history.push(h),o.selectedOperator=null,o.selectedOperandIdx=c}else o.selectedOperandIdx=c;f()},r=c=>{o.selectedOperator===c?o.selectedOperator=null:o.selectedOperator=c,f()},n=()=>{o.history=[o.originalNumberOptions],o.selectedOperandIdx=null,o.selectedOperator=null,f()},s=()=>{o.history.pop(),o.selectedOperandIdx=null,o.selectedOperator=null,f()},a=e.map((c,i)=>{let p="option-button";return i===o.selectedOperandIdx&&(p+=" selected"),c===null&&(p+=" placeholder"),d("button",{disabled:c===null,class:p,click:()=>t(i)},c||"0")}),l=v.map(c=>{let i="option-button";return c===o.selectedOperator&&(i+=" selected"),d("button",{disabled:o.selectedOperandIdx===null,class:i,click:()=>r(c)},E[c])}),u=null;return e.includes(o.target)&&(u=" \u{1F389}"),d("div",{id:"game-container"},d("div",{class:"target-container"},d("h1",{class:"target"},`${o.target+u}`)),d("div",{class:"option-buttons-outer-container"},d("div",{class:"option-buttons-container"},a)),d("div",{class:"operator-buttons-container"},l),d("div",{class:"extra-buttons-container"},d("button",{class:"secondary",click:n},"Reset"),d("button",{class:"secondary",click:s,disabled:o.history.length<=1},"Undo")))},M=(e,t,r)=>{let n=r%e.length,s=e[n];e=[...e.slice(0,n),...e.slice(n+1)],console.log("start with:",s);for(let a=0;a<t;a++){let l=(r+r*(a+1))%e.length,u=e[l];for(let c=0;c<4;c++){let i=v[(r+r*c)%4];if(S[i](s,u)){console.log("perform:",E[i],u),s=T[i](s,u),e=[...e.slice(0,l),...e.slice(l+1)];break}}}return console.log("result:",s),s},U=e=>{let t=[];for(let r=0;r<6;r++)t.push(D[(e+e*r)%D.length]);return t},f=()=>{let e=document.getElementById("game-container");N(O(d(C,null)),e)},B=()=>{let t=new Date().toDateString(),r=x(t)[0];console.log("Current date: ",t),console.log("PRNG: ",r),o.originalNumberOptions=U(r),o.history=[o.originalNumberOptions],console.log("use:",o.originalNumberOptions),o.target=M(o.originalNumberOptions,3,r),console.log(o.target),f()};window.onload=B;})();
